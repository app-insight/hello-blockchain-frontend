<div class="row">
  <div class="col-lg-12">
    <h1 class="page-header">
      공개키암호(Public-key cryptosystem)
      <a href="#desc" class="pull-right" role="button" data-toggle="collapse" title="설명"><i class="fa fa-file-text"></i></a>
    </h1>
  </div>
  <!-- /.col-lg-12 -->
</div>
<!-- /.row -->

<div id="desc" class="desc collapse">
  <div class="well" data-load="./load-public.html"></div>
</div>
<!-- / desc -->

<div class="card">
  <div class="card-header text-center">Key Generator</div>
  <div class="card-body">
    <form>
      <div class="form-group">
        <label>Private Key</label>
        <div class="input-group">
          <input [(ngModel)]="privatekeyValue" type="text" id="privatekeyValue" name="privatekeyValue"
                 class="form-control" readonly>
          <span class="input-group-btn">
            <button type="button" class="btn btn-outline-secondary btn-copy"
                    ngbTooltip="Copied!" triggers="manual" #copyPrivateTooltip="ngbTooltip"
                    (cbOnSuccess)="copyPrivateKey()"
                    ngxClipboard [cbContent]="privatekeyValue"><i class="fa fa-copy"></i> Copy Key</button>
        </span>
        </div>
      </div>
      <div class="form-group">
        <label>Public Key</label>
        <div class="input-group">
          <input [(ngModel)]="publickeyValue" type="text" id="publickeyValue" name="publickeyValue" class="form-control"
                 readonly>
          <span class="input-group-btn">
            <button type="button" class="btn btn-outline-secondary btn-copy"
                    ngbTooltip="Copied!" triggers="manual" #copyPublicTooltip="ngbTooltip"
                    (cbOnSuccess)="copyPublicKey()"
                    ngxClipboard [cbContent]="publickeyValue"><i class="fa fa-copy"></i> Copy Key</button>
          </span>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-sm-4">
          <button type="button" class="btn btn-primary btn-block" (click)="newPrivateKey()">Generate Keys</button>
        </div>
        <div class="col-sm-4">
        </div>
        <div class="col-sm-4">
          <button type="reset" class="btn btn-outline-secondary btn-block"><i class="fa fa-trash"></i> Clear All
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<br>
<div class="alert-dismissible">
  <ngb-alert *ngIf="alertMessage" type="danger" (close)="alertMessage = null">{{ alertMessage }}</ngb-alert>
</div>
<br>

<div class="card">
  <div class="card-header text-center">Test</div>
  <div class="card-body">
    <form>
      <div class="form-group">
        <label>Input</label>
        <textarea id="inputValue" cols="30" rows="3" class="form-control" [(ngModel)]="inputValue"
                  name="inputValue"></textarea>
      </div>
      <div class="form-group row">
        <div class="col-sm-4">
          <button type="button" class="btn btn-outline-secondary btn-block"
                  (click)="randomText()">Random Text
          </button>
        </div>
        <div class="col-sm-4">
          <button type="button" class="btn btn-primary btn-block"
                  (click)="encryptPublic()">Encrypt with Public Key
          </button>
        </div>
        <div class="col-sm-4">
          <button type="button" class="btn btn-outline-success btn-block"
                  (click)="encryptPrivate()">Encrypt with Private Key
          </button>
        </div>
      </div>
      <div class="form-group">
        <label>Encrypted Output</label>
        <textarea [(ngModel)]="encryptedOutput" name="encryptedOutput" id="encryptedOutput"
                  cols="30" rows="3" id="result" class="form-control" readonly></textarea>
      </div>
      <div class="form-group row">
        <div class="col-sm-4">
          <button type="button" class="btn btn-primary btn-block"
                  (click)="decryptPublic()">Decrypt with Public Key
          </button>
        </div>
        <div class="col-sm-4">
          <button type="button" class="btn btn-outline-success btn-block"
                  (click)="decryptPrivate()">Decrypt with Private Key
          </button>
        </div>
        <div class="col-sm-4">
          <button type="reset" class="btn btn-outline-secondary btn-block"><i class="fa fa-trash"></i> Clear All
          </button>
        </div>
      </div>
      <div class="form-group">
        <label>Decrypted Output</label>
        <textarea [(ngModel)]="decryptedOutput" name="decryptedOutput" id="decryptedOutput"
                  cols="30" rows="3" class="form-control" readonly></textarea>
      </div>
    </form>
  </div>
</div>
